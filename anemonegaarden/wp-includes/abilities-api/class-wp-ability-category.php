<?php
 declare( strict_types = 1 ); final class WP_Ability_Category { protected $slug; protected $label; protected $description; protected $meta = array(); public function __construct( string $slug, array $args ) { if ( empty( $slug ) ) { throw new InvalidArgumentException( __( 'The ability category slug cannot be empty.' ) ); } $this->slug = $slug; $properties = $this->prepare_properties( $args ); foreach ( $properties as $property_name => $property_value ) { if ( ! property_exists( $this, $property_name ) ) { _doing_it_wrong( __METHOD__, sprintf( __( 'Property "%1$s" is not a valid property for ability category "%2$s". Please check the %3$s class for allowed properties.' ), '<code>' . esc_html( $property_name ) . '</code>', '<code>' . esc_html( $this->slug ) . '</code>', '<code>' . __CLASS__ . '</code>' ), '6.9.0' ); continue; } $this->$property_name = $property_value; } } protected function prepare_properties( array $args ): array { if ( empty( $args['label'] ) || ! is_string( $args['label'] ) ) { throw new InvalidArgumentException( __( 'The ability category properties must contain a `label` string.' ) ); } if ( empty( $args['description'] ) || ! is_string( $args['description'] ) ) { throw new InvalidArgumentException( __( 'The ability category properties must contain a `description` string.' ) ); } if ( isset( $args['meta'] ) && ! is_array( $args['meta'] ) ) { throw new InvalidArgumentException( __( 'The ability category properties should provide a valid `meta` array.' ) ); } return $args; } public function get_slug(): string { return $this->slug; } public function get_label(): string { return $this->label; } public function get_description(): string { return $this->description; } public function get_meta(): array { return $this->meta; } public function __wakeup(): void { throw new LogicException( __CLASS__ . ' should never be unserialized.' ); } public function __sleep(): array { throw new LogicException( __CLASS__ . ' should never be serialized.' ); } } 