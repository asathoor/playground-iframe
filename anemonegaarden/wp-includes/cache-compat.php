<?php
 if ( ! function_exists( 'wp_cache_add_multiple' ) ) : function wp_cache_add_multiple( array $data, $group = '', $expire = 0 ) { $values = array(); foreach ( $data as $key => $value ) { $values[ $key ] = wp_cache_add( $key, $value, $group, $expire ); } return $values; } endif; if ( ! function_exists( 'wp_cache_set_multiple' ) ) : function wp_cache_set_multiple( array $data, $group = '', $expire = 0 ) { $values = array(); foreach ( $data as $key => $value ) { $values[ $key ] = wp_cache_set( $key, $value, $group, $expire ); } return $values; } endif; if ( ! function_exists( 'wp_cache_get_multiple' ) ) : function wp_cache_get_multiple( $keys, $group = '', $force = false ) { $values = array(); foreach ( $keys as $key ) { $values[ $key ] = wp_cache_get( $key, $group, $force ); } return $values; } endif; if ( ! function_exists( 'wp_cache_delete_multiple' ) ) : function wp_cache_delete_multiple( array $keys, $group = '' ) { $values = array(); foreach ( $keys as $key ) { $values[ $key ] = wp_cache_delete( $key, $group ); } return $values; } endif; if ( ! function_exists( 'wp_cache_flush_runtime' ) ) : function wp_cache_flush_runtime() { if ( ! wp_cache_supports( 'flush_runtime' ) ) { _doing_it_wrong( __FUNCTION__, __( 'Your object cache implementation does not support flushing the in-memory runtime cache.' ), '6.1.0' ); return false; } return wp_cache_flush(); } endif; if ( ! function_exists( 'wp_cache_flush_group' ) ) : function wp_cache_flush_group( $group ) { global $wp_object_cache; if ( ! wp_cache_supports( 'flush_group' ) ) { _doing_it_wrong( __FUNCTION__, __( 'Your object cache implementation does not support flushing individual groups.' ), '6.1.0' ); return false; } return $wp_object_cache->flush_group( $group ); } endif; if ( ! function_exists( 'wp_cache_supports' ) ) : function wp_cache_supports( $feature ) { return false; } endif; if ( ! function_exists( 'wp_cache_get_salted' ) ) : function wp_cache_get_salted( $cache_key, $group, $salt ) { $salt = is_array( $salt ) ? implode( ':', $salt ) : $salt; $cache = wp_cache_get( $cache_key, $group ); if ( ! is_array( $cache ) ) { return false; } if ( ! isset( $cache['salt'] ) || ! isset( $cache['data'] ) || $salt !== $cache['salt'] ) { return false; } return $cache['data']; } endif; if ( ! function_exists( 'wp_cache_set_salted' ) ) : function wp_cache_set_salted( $cache_key, $data, $group, $salt, $expire = 0 ) { $salt = is_array( $salt ) ? implode( ':', $salt ) : $salt; return wp_cache_set( $cache_key, array( 'data' => $data, 'salt' => $salt, ), $group, $expire ); } endif; if ( ! function_exists( 'wp_cache_get_multiple_salted' ) ) : function wp_cache_get_multiple_salted( $cache_keys, $group, $salt ) { $salt = is_array( $salt ) ? implode( ':', $salt ) : $salt; $cache = wp_cache_get_multiple( $cache_keys, $group ); foreach ( $cache as $key => $value ) { if ( ! is_array( $value ) ) { $cache[ $key ] = false; continue; } if ( ! isset( $value['salt'], $value['data'] ) || $salt !== $value['salt'] ) { $cache[ $key ] = false; continue; } $cache[ $key ] = $value['data']; } return $cache; } endif; if ( ! function_exists( 'wp_cache_set_multiple_salted' ) ) : function wp_cache_set_multiple_salted( $data, $group, $salt, $expire = 0 ) { $salt = is_array( $salt ) ? implode( ':', $salt ) : $salt; $new_cache = array(); foreach ( $data as $key => $value ) { $new_cache[ $key ] = array( 'data' => $value, 'salt' => $salt, ); } return wp_cache_set_multiple( $new_cache, $group, $expire ); } endif; 