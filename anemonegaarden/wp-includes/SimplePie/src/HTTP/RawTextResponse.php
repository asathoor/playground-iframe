<?php
 declare(strict_types=1); namespace SimplePie\HTTP; final class RawTextResponse implements Response { private $raw_text; private $permanent_url; private $headers = []; private $requested_url; public function __construct(string $raw_text, string $filepath) { $this->raw_text = $raw_text; $this->permanent_url = $filepath; $this->requested_url = $filepath; } public function get_permanent_uri(): string { return $this->permanent_url; } public function get_final_requested_uri(): string { return $this->requested_url; } public function get_status_code(): int { return 200; } public function get_headers(): array { return $this->headers; } public function has_header(string $name): bool { return isset($this->headers[strtolower($name)]); } public function get_header(string $name): array { return isset($this->headers[strtolower($name)]) ? $this->headers[$name] : []; } public function with_header(string $name, $value) { $new = clone $this; $newHeader = [ strtolower($name) => (array) $value, ]; $new->headers = $newHeader + $this->headers; return $new; } public function get_header_line(string $name): string { return isset($this->headers[strtolower($name)]) ? implode(", ", $this->headers[$name]) : ''; } public function get_body_content(): string { return $this->raw_text; } } 